<mat-card>
  <h2>All Jobs</h2>

  <mat-form-field appearance="outline">
    <mat-label>Filter</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="Search jobs">
  </mat-form-field>

  <div class="table-container">
    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

      <!-- Title -->
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Title</th>
        <td mat-cell *matCellDef="let job">{{ job.title }}</td>
      </ng-container>

      <!-- Company Name -->
      <ng-container matColumnDef="companyName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Company</th>
        <td mat-cell *matCellDef="let job">{{ job.companyName }}</td>
      </ng-container>

      <!-- Location -->
      <ng-container matColumnDef="location">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Location</th>
        <td mat-cell *matCellDef="let job">{{ job.location }}</td>
      </ng-container>

      <!-- Experience -->
      <ng-container matColumnDef="experience">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Experience</th>
        <td mat-cell *matCellDef="let job">{{ job.experience }}</td>
      </ng-container>

      <!-- Vacancies -->
      <ng-container matColumnDef="vacancies">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Vacancies</th>
        <td mat-cell *matCellDef="let job">{{ job.vacancies }}</td>
      </ng-container>

      <!-- Package -->
      <ng-container matColumnDef="package">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Package</th>
        <td mat-cell *matCellDef="let job">{{ job.package }}</td>
      </ng-container>

      <!-- Work Mode -->
      <ng-container matColumnDef="workMode">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Work Mode</th>
        <td mat-cell *matCellDef="let job">{{ job.workMode }}</td>
      </ng-container>

      <!-- Status -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
        <td mat-cell *matCellDef="let job">{{ job.status || 'N/A' }}</td>
      </ng-container>

      <!-- Actions (only for recruiter) -->
      <!-- <ng-container matColumnDef="actions" *ngIf="role === 'recruiter'">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let job">
          <button mat-button color="primary" (click)="editJob(job.id)">Edit</button>
          <button mat-button color="warn" (click)="deleteJob(job.id)">Delete</button>
        </td>
      </ng-container> -->

      <!-- Apply Job (only for jobseeker) -->
      <ng-container matColumnDef="applyJob" *ngIf="role === 'jobseeker'">
        <th mat-header-cell *matHeaderCellDef>Apply</th>
        <td mat-cell *matCellDef="let job">
          <button mat-raised-button color="primary" *ngIf="job.status.toLowerCase() === 'open'" (click)="applyJob(job.id)">Apply</button>
        </td>
      </ng-container>

      <!-- Table rows -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 25]" showFirstLastButtons></mat-paginator>
  </div>
</mat-card>
